<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · PlanktonIndividuals.jl</title><meta name="title" content="Library · PlanktonIndividuals.jl"/><meta property="og:title" content="Library · PlanktonIndividuals.jl"/><meta property="twitter:title" content="Library · PlanktonIndividuals.jl"/><meta name="description" content="Documentation for PlanktonIndividuals.jl."/><meta property="og:description" content="Documentation for PlanktonIndividuals.jl."/><meta property="twitter:description" content="Documentation for PlanktonIndividuals.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PlanktonIndividuals.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Model Description</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../phyto_equations/">Phytoplankton Physiology</a></li><li><a class="tocitem" href="../bgc_equations/">Biogeochemistry</a></li></ul></li><li><a class="tocitem" href="../model_setup/">Model Configuration</a></li><li><a class="tocitem" href="../model_run/">Model Simulation</a></li><li><a class="tocitem" href="../gpu_support/">GPU Support</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#Architectures"><span>Architectures</span></a></li><li><a class="tocitem" href="#Grids"><span>Grids</span></a></li><li><a class="tocitem" href="#Fields"><span>Fields</span></a></li><li><a class="tocitem" href="#Biogeochmeistry"><span>Biogeochmeistry</span></a></li><li><a class="tocitem" href="#Parameters"><span>Parameters</span></a></li><li><a class="tocitem" href="#Diagnostics"><span>Diagnostics</span></a></li><li><a class="tocitem" href="#Model"><span>Model</span></a></li><li><a class="tocitem" href="#Simulation"><span>Simulation</span></a></li><li><a class="tocitem" href="#Output"><span>Output</span></a></li></ul></li><li><a class="tocitem" href="../function_index/">Function index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/master/docs/src/library.md#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Library"><a class="docs-heading-anchor" href="#Library">Library</a><a id="Library-1"></a><a class="docs-heading-anchor-permalink" href="#Library" title="Permalink"></a></h1><p>The public user interface.</p><h2 id="Architectures"><a class="docs-heading-anchor" href="#Architectures">Architectures</a><a id="Architectures-1"></a><a class="docs-heading-anchor-permalink" href="#Architectures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Architectures.Architecture" href="#PlanktonIndividuals.Architectures.Architecture"><code>PlanktonIndividuals.Architectures.Architecture</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Architecture</code></pre><p>Abstract type for architectures supported by PlanktonIndividuals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Architectures.jl#LL11-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Architectures.CPU" href="#PlanktonIndividuals.Architectures.CPU"><code>PlanktonIndividuals.Architectures.CPU</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CPU &lt;: Architecture</code></pre><p>Run PlanktonIndividuals on one CPU node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Architectures.jl#LL17-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Architectures.GPU" href="#PlanktonIndividuals.Architectures.GPU"><code>PlanktonIndividuals.Architectures.GPU</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GPU &lt;: Architecture</code></pre><p>Run PlanktonIndividuals on one CUDA GPU node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Architectures.jl#LL23-L26">source</a></section></article><h2 id="Grids"><a class="docs-heading-anchor" href="#Grids">Grids</a><a id="Grids-1"></a><a class="docs-heading-anchor-permalink" href="#Grids" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Grids.AbstractGrid" href="#PlanktonIndividuals.Grids.AbstractGrid"><code>PlanktonIndividuals.Grids.AbstractGrid</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractGrid{FT, TX, TY, TZ}</code></pre><p>Abstract type for grids with elements of type <code>FT</code> and topology <code>{TX, TY, TZ}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Grids/Grids.jl#LL15-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Grids.Bounded" href="#PlanktonIndividuals.Grids.Bounded"><code>PlanktonIndividuals.Grids.Bounded</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Bounded</code></pre><p>Grid topology for bounded dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Grids/Grids.jl#LL33-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Grids.Periodic" href="#PlanktonIndividuals.Grids.Periodic"><code>PlanktonIndividuals.Grids.Periodic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Periodic</code></pre><p>Grid topology for periodic dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Grids/Grids.jl#LL27-L30">source</a></section></article><h2 id="Fields"><a class="docs-heading-anchor" href="#Fields">Fields</a><a id="Fields-1"></a><a class="docs-heading-anchor-permalink" href="#Fields" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Fields.Field-Tuple{Architecture, PlanktonIndividuals.Grids.AbstractGrid, DataType}" href="#PlanktonIndividuals.Fields.Field-Tuple{Architecture, PlanktonIndividuals.Grids.AbstractGrid, DataType}"><code>PlanktonIndividuals.Fields.Field</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Field(arch::Architecture, grid::AbstractGrid, FT::DataType; bcs = default_bcs())</code></pre><p>Construct a <code>Field</code> on <code>grid</code> with data and boundary conditions on architecture <code>arch</code> with DataType <code>FT</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Fields/Fields.jl#LL26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Fields.set_bc!-Tuple{Any}" href="#PlanktonIndividuals.Fields.set_bc!-Tuple{Any}"><code>PlanktonIndividuals.Fields.set_bc!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_bc!(model; tracer::Symbol, pos::Symbol, bc_value::Union{Number, AbstractArray})</code></pre><p>Set the boundary condition of <code>tracer</code> on <code>pos</code> with <code>bc_value</code> of DataType <code>FT</code>.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>tracer</code>: the tracer of which the boundary condition will be set.</li><li><code>pos</code>: the position of the bounday condition to be set, e.g., <code>:east</code>, <code>:top</code> etc.</li><li><code>bc_value</code>: the value that will be used to set the boundary condition.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Fields/boundary_conditions.jl#LL21-L30">source</a></section></article><h2 id="Biogeochmeistry"><a class="docs-heading-anchor" href="#Biogeochmeistry">Biogeochmeistry</a><a id="Biogeochmeistry-1"></a><a class="docs-heading-anchor-permalink" href="#Biogeochmeistry" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Biogeochemistry.default_nut_init-Tuple{}" href="#PlanktonIndividuals.Biogeochemistry.default_nut_init-Tuple{}"><code>PlanktonIndividuals.Biogeochemistry.default_nut_init</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_nut_init()</code></pre><p>Generate defalut nutrient initial conditions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Biogeochemistry/nutrient_fields.jl#LL14-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Biogeochemistry.generate_nutrients-Tuple{Architecture, PlanktonIndividuals.Grids.AbstractGrid, Union{Dict, NamedTuple}, DataType}" href="#PlanktonIndividuals.Biogeochemistry.generate_nutrients-Tuple{Architecture, PlanktonIndividuals.Grids.AbstractGrid, Union{Dict, NamedTuple}, DataType}"><code>PlanktonIndividuals.Biogeochemistry.generate_nutrients</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_nutrients(arch, grid, source, FT)</code></pre><p>Set up initial nutrient fields according to <code>grid</code>.</p><p><strong>Arguments</strong></p><ul><li><code>arch</code>: <code>CPU()</code> or <code>GPU()</code>. The computer architecture used to time-step <code>model</code>.</li><li><code>grid</code>: The resolution and discrete geometry on which nutrient fields are solved.</li><li><code>source</code>: A <code>NamedTuple</code> containing 10 numbers each of which is the uniform initial            condition of one tracer, or a <code>Dict</code> containing the file paths pointing to           the files of nutrient initial conditions.</li><li><code>FT</code>: Floating point data type. Default: <code>Float32</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Biogeochemistry/nutrient_fields.jl#LL24-L36">source</a></section></article><h2 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.bgc_params_default-Tuple{Any}" href="#PlanktonIndividuals.Parameters.bgc_params_default-Tuple{Any}"><code>PlanktonIndividuals.Parameters.bgc_params_default</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bgc_params_default(FT::DataType)</code></pre><p>Generate default biogeochemical parameter values </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_default.jl#LL40-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.default_PARF-Tuple{Any, Any, Any}" href="#PlanktonIndividuals.Parameters.default_PARF-Tuple{Any, Any, Any}"><code>PlanktonIndividuals.Parameters.default_PARF</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_PARF(grid, ΔT, iterations)</code></pre><p>Generate default hourly surface PAR.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_default.jl#LL1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.default_temperature-Tuple{Any, Any, Any}" href="#PlanktonIndividuals.Parameters.default_temperature-Tuple{Any, Any, Any}"><code>PlanktonIndividuals.Parameters.default_temperature</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_temperature(grid, ΔT, iterations)</code></pre><p>Generate default hourly temperature.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_default.jl#LL18-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.phyt_params_default-Tuple{Int64, IronEnergyMode}" href="#PlanktonIndividuals.Parameters.phyt_params_default-Tuple{Int64, IronEnergyMode}"><code>PlanktonIndividuals.Parameters.phyt_params_default</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">phyt_params_default(N::Int64, mode::AbstractMode)</code></pre><p>Generate default phytoplankton parameter values based on <code>AbstractMode</code> and species number <code>N</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_default.jl#LL145-L148">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.phyt_params_default-Tuple{Int64, QuotaMode}" href="#PlanktonIndividuals.Parameters.phyt_params_default-Tuple{Int64, QuotaMode}"><code>PlanktonIndividuals.Parameters.phyt_params_default</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">phyt_params_default(N::Int64, mode::AbstractMode)</code></pre><p>Generate default phytoplankton parameter values based on <code>AbstractMode</code> and species number <code>N</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_default.jl#LL223-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.update_bgc_params-Tuple{Dict, DataType}" href="#PlanktonIndividuals.Parameters.update_bgc_params-Tuple{Dict, DataType}"><code>PlanktonIndividuals.Parameters.update_bgc_params</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_bgc_params(tmp::Ditc, FT::DataType)</code></pre><p>Update parameter values based on a <code>Dict</code> provided by user</p><p><strong>Keyword Arguments</strong></p><ul><li><code>tmp</code>: a <code>Dict</code> containing the parameters needed to be upadated</li><li><code>FT</code>: Floating point data type. Default: <code>Float32</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_update.jl#LL1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Parameters.update_phyt_params-Tuple{Dict, DataType}" href="#PlanktonIndividuals.Parameters.update_phyt_params-Tuple{Dict, DataType}"><code>PlanktonIndividuals.Parameters.update_phyt_params</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_phyt_params(tmp::Dict, FT::DataType; N::Int64, mode::AbstractMode)</code></pre><p>Update parameter values based on a <code>Dict</code> provided by user Keyword Arguments =================</p><ul><li><code>tmp</code> is a <code>Dict</code> containing the parameters needed to be upadated</li><li><code>FT</code>: Floating point data type. Default: <code>Float32</code>.</li><li><code>N</code> is a <code>Int64</code> indicating the number of species</li><li><code>mode</code> is the mode of phytoplankton physiology resolved in the model</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Parameters/param_update.jl#LL24-L33">source</a></section></article><h2 id="Diagnostics"><a class="docs-heading-anchor" href="#Diagnostics">Diagnostics</a><a id="Diagnostics-1"></a><a class="docs-heading-anchor-permalink" href="#Diagnostics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Diagnostics.PlanktonDiagnostics-Tuple{Any}" href="#PlanktonIndividuals.Diagnostics.PlanktonDiagnostics-Tuple{Any}"><code>PlanktonIndividuals.Diagnostics.PlanktonDiagnostics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlanktonDiagnostics(model; tracer=(:PAR, :NH4, :NO3, :DOC),
                    plankton=(:num, :graz, :mort, :dvid),
                    time_interval = 1)</code></pre><p>Generate a <code>PlanktonDiagnostics</code> structure.</p><p><strong>Keyword Arguments (Optional)</strong></p><ul><li><code>tracer</code> : a <code>Tuple</code> containing the names of nutrient fields to be diagnosed.</li><li><code>plankton</code> : a <code>Tuple</code> containing the names of physiological processes of plankton individuals to be diagnosed.</li><li><code>iteration_interval</code> : The number of timesteps that diagnostics is averaged, 1 iteration by default.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Diagnostics/diagnostics_struct.jl#LL7-L19">source</a></section></article><h2 id="Model"><a class="docs-heading-anchor" href="#Model">Model</a><a id="Model-1"></a><a class="docs-heading-anchor-permalink" href="#Model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.CarbonMode" href="#PlanktonIndividuals.CarbonMode"><code>PlanktonIndividuals.CarbonMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CarbonMode &lt;: AbstractMode</code></pre><p>Type for the phytoplankton physiology mode which only resolves carbon quota.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/PlanktonIndividuals.jl#LL60-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.IronEnergyMode" href="#PlanktonIndividuals.IronEnergyMode"><code>PlanktonIndividuals.IronEnergyMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IronEnergyMode &lt;: AbstractMode</code></pre><p>Type for the phytoplankton physiology mode which resolves carbon, nitrogen, phosphorus, and iron quotas. This mode also resolves energy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/PlanktonIndividuals.jl#LL78-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.MacroMolecularMode" href="#PlanktonIndividuals.MacroMolecularMode"><code>PlanktonIndividuals.MacroMolecularMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MacroMolecularMode &lt;: AbstractMode</code></pre><p>Type for the phytoplankton physiology mode which resolves marco-molecules.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/PlanktonIndividuals.jl#LL72-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.QuotaMode" href="#PlanktonIndividuals.QuotaMode"><code>PlanktonIndividuals.QuotaMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">QuotaMode &lt;: AbstractMode</code></pre><p>Type for the phytoplankton physiology mode which resolves carbon, nitrogen, and phosphorus quotas.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/PlanktonIndividuals.jl#LL66-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Model.PlanktonModel-Tuple{Architecture, PlanktonIndividuals.Grids.AbstractGrid}" href="#PlanktonIndividuals.Model.PlanktonModel-Tuple{Architecture, PlanktonIndividuals.Grids.AbstractGrid}"><code>PlanktonIndividuals.Model.PlanktonModel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlanktonModel(arch::Architecture, grid::AbstractGrid;
              FT = Float32,
              mode = QuotaMode(),
              N_species = 1,
              N_individual = [1024],
              max_individuals = 1024*8,
              bgc_params = nothing, 
              phyt_params = nothing,
              nut_initial = default_nut_init(),
              t = 0.0,
              )</code></pre><p>Generate a <code>PlanktonModel</code> data structure. </p><p><strong>Keyword Arguments (Required)</strong></p><ul><li><code>arch</code> : <code>CPU()</code> or <code>GPU()</code>. Computer architecture being used to run the model.</li><li><code>grid</code> : a <code>AbstractGrid</code> structure. Discrete grid for the model (resolution and geometry).</li></ul><p><strong>Keyword Arguments (Optional)</strong></p><ul><li><code>FT</code>: Floating point data type. Default: <code>Float32</code>.</li><li><code>mode</code> : Phytoplankton physiology mode, choose among CarbonMode(), QuotaMode(), or MacroMolecularMode().</li><li><code>N_species</code> : Number of species.</li><li><code>N_individual</code> : Number of individuals per species, should be a vector with <code>N_species</code> elements.</li><li><code>max_individuals</code> : Maximum number of individuals for each species the model can hold,                   usually take the maximum of all the species and apply a factor to account for the growth                   of individuals during one simulation.</li><li><code>bgc_params</code> : Parameter set for biogeochemical processes modeled in the model, use default if <code>nothing</code>,                    use <code>Dict</code> to update parameters, the format and names of parameters can be found by running <code>bgc_params_default()</code>.</li><li><code>phyt_params</code> : Parameter set for physiological processes of individuals modeled in the model, use default if <code>nothing</code>,                   use <code>Dict</code> to update parameters, the format and names of parameters can be found by running <code>phyt_params_default(N_species, mode)</code>.</li><li><code>nut_initial</code> : The source of initial conditions of nutrient fields, should be either a <code>NamedTuple</code>                    or a <code>Dict</code> containing the file paths pointing to the files of nutrient initial conditions.</li><li><code>t</code> : Model time, start from 0 by default, in second.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Model/models.jl#LL14-L50">source</a></section></article><h2 id="Simulation"><a class="docs-heading-anchor" href="#Simulation">Simulation</a><a id="Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Simulation.PlanktonSimulation-Tuple{PlanktonModel}" href="#PlanktonIndividuals.Simulation.PlanktonSimulation-Tuple{PlanktonModel}"><code>PlanktonIndividuals.Simulation.PlanktonSimulation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlanktonSimulation(model; ΔT, iterations,
                   PARF = default_PARF(model.grid),
                   temp = default_temperature(model.grid),
                   diags = nothing,
                   vels = (;),
                   ΔT_vel = ΔT,
                   ΔT_PAR::AbstractFloat = 3600.0f0,
                   ΔT_temp::AbstractFloat = 3600.0f0,
                   output_writer = nothing,
                   )</code></pre><p>Generate a <code>PlanktonSimulation</code> data structure.</p><p><strong>Keyword Arguments (Required)</strong></p><ul><li><code>ΔT</code> : time step in second.</li><li><code>iterations</code> : run the simulation for this number of iterations.</li></ul><p><strong>Keyword Arguments (Optional)</strong></p><ul><li><code>PARF</code> : External forcings of surface PAR. Hourly PAR of a single day is provided by default.</li><li><code>temp</code> : External forcings of temperature. Hourly data of a single day is provided by default.</li><li><code>diags</code> : Diagnostics of the simulation generated by <code>PlanktonDiagnostics</code>.</li><li><code>vels</code> : The velocity fields for nutrient fields and individuals. <code>nothing</code> means no velocities                    will be applied in the simulation. Otherwise, <code>vels</code> mush be a <code>NamedTuple</code> containing                    all <code>u</code>, <code>v</code>, and <code>w</code>. Each of <code>u</code>, <code>v</code>, and <code>w</code> must be an 4D-<code>Array</code> of                     <code>(Nx, Ny, Nz, nΔT)</code> elements, excluding halo points. <code>N+1</code> is required for bounded direction.</li><li><code>ΔT_vel</code> : time step of velocities provided externally (in seconds).</li><li><code>ΔT_PAR</code> : time step of surface PAR provided externally (in seconds).</li><li><code>ΔT_temp</code> : time step of temperature provided externally (in seconds).</li><li><code>output_writer</code> : Output writer of the simulation generated by <code>PlanktonOutputWriter</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Simulation/simulations.jl#LL19-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Simulation.update!-Tuple{PlanktonSimulation}" href="#PlanktonIndividuals.Simulation.update!-Tuple{PlanktonSimulation}"><code>PlanktonIndividuals.Simulation.update!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update!(sim::PlanktonSimulation; time_offset = (vels = true, PAFR = true, temp = true))</code></pre><p>Update the <code>PlanktonSimulation</code> for <code>sim.iterations</code> time steps. <code>time_offset</code> is used when velocities (or PARF or temperature) starts from timestep 1, but model.t is not. It is usually used when velocity fields are too large and need to be broken down into several parts. Only one part of the whole velocity fields can be constructed into a <code>PlanktonSimulation</code>, so in this PlanktonSimulation <code>model.iteration</code> might no be 1, but the velocity fields need to start from 1 (same for PARF or temperature fields).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Simulation/update.jl#LL1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Simulation.vel_copy!-Union{Tuple{TZ}, Tuple{TY}, Tuple{TX}, Tuple{FT}, Tuple{NamedTuple, Any, Any, Any, PlanktonIndividuals.Grids.AbstractGrid{FT, TX, TY, TZ}}} where {FT, TX, TY, TZ}" href="#PlanktonIndividuals.Simulation.vel_copy!-Union{Tuple{TZ}, Tuple{TY}, Tuple{TX}, Tuple{FT}, Tuple{NamedTuple, Any, Any, Any, PlanktonIndividuals.Grids.AbstractGrid{FT, TX, TY, TZ}}} where {FT, TX, TY, TZ}"><code>PlanktonIndividuals.Simulation.vel_copy!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vel_copy!(vel::NamedTuple, u, v, w, g::AbstractGrid{FT, TX, TY, TZ}) where {FT, TX, TY, TZ}</code></pre><p>Copy external velocities into <code>PlanktonModel</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Simulation/utils.jl#LL1-L4">source</a></section></article><h2 id="Output"><a class="docs-heading-anchor" href="#Output">Output</a><a id="Output-1"></a><a class="docs-heading-anchor-permalink" href="#Output" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlanktonIndividuals.Output.PlanktonOutputWriter-Tuple{}" href="#PlanktonIndividuals.Output.PlanktonOutputWriter-Tuple{}"><code>PlanktonIndividuals.Output.PlanktonOutputWriter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PlanktonOutputWriter(;dir = &quot;./results&quot;,
                           diags_prefix = &quot;diags&quot;,
                           plankton_prefix = &quot;plankton&quot;,
                           write_log = false,
                           save_diags = false,
                           save_plankton = false,
                           plankton_include = (:x, :y, :z, :Sz),
                           plankton_iteration_interval = 1,
                           max_filesize = Inf,
                           )</code></pre><p>Generate a <code>PlanktonOutputWriter</code> structure which includes settings for model outputs</p><p><strong>Keyword Arguments (Optional)</strong></p><ul><li><code>dir</code>: The directory to store model outputs, &quot;./results&quot; by default</li><li><code>diags_prefix</code>: Descriptive filename prefixed to diagnostic output files.</li><li><code>plankton_prefix</code>: Descriptive filename prefixed to plankton output files.</li><li><code>write_log</code>: write model logs which contain global averages of simulated plankton, default: <code>false</code>.</li><li><code>save_diags</code>: write diagnostics to disk, default: <code>false</code>.</li><li><code>save_plankton</code>: write plankton to disk, default: <code>false</code>.</li><li><code>plankton_include</code>: list of plankton properties to save, default: <code>(:x, :y, :z, :Sz)</code>.</li><li><code>plankton_iteration_interval</code>: The time interval that plankton are saved, 1 timestep by default.</li><li><code>max_filesize</code>: The writer will stop writing to the output file once the file size exceeds <code>max_filesize</code>,                   and write to a new one with a consistent naming scheme ending in <code>part1</code>, <code>part2</code>, etc.                   default: <code>Inf</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/6446c36ecb676b0463dc40657cd1e7f83e873bbd/src/Output/output_writers.jl#LL15-L41">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../benchmarks/">« Benchmarks</a><a class="docs-footer-nextpage" href="../function_index/">Function index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Saturday 19 October 2024 03:43">Saturday 19 October 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
