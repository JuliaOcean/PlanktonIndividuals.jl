<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · PlanktonIndividuals.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PlanktonIndividuals.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../equations/">Equations</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../generated/vertical_2D_example/">Vertical Two-Dimensional Example</a></li><li><a class="tocitem" href="../generated/horizontal_2D_example/">Horizontal Two-Dimensional Example</a></li><li><a class="tocitem" href="../generated/surface_mixing_3D_example/">Surface Mixing Three-Dimensional Example</a></li><li><a class="tocitem" href="../generated/0D_experiment/">Zero-Dimensional Experiment</a></li></ul></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li><a class="tocitem" href="../function_index/">Function index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>-</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>-</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaOcean/PlanktonIndividuals.jl/blob/master/docs/src/various.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h3 id="Function-Inventory"><a class="docs-heading-anchor" href="#Function-Inventory">Function Inventory</a><a id="Function-Inventory-1"></a><a class="docs-heading-anchor-permalink" href="#Function-Inventory" title="Permalink"></a></h3><p><strong>Use cases:</strong></p><ul><li><code>Oceananigans_PlanktonIndividuals.jl</code></li></ul><p><strong>Infrastructure functions:</strong></p><ul><li><code>model_struct.jl</code> defines <code>velocity</code>, <code>grids</code>, <code>nutrient_fields</code>, and <code>rem</code> structs.</li><li><code>model.jl</code> deals with the model basic functionalities.</li><li><code>model_setup.jl</code> is <code>setup_agents</code> and <code>setup_nutrients</code></li><li><code>option_params.jl</code> and <code>param_defaults.jl</code> deal with model parameter values</li><li><code>utils.jl</code> utility functions for IO and operations.</li></ul><p><strong>process functions:</strong></p><ul><li><code>phyt_process.jl</code> = <code>daynight</code>, <code>PAR_cal</code>, <code>PC</code>, <code>Nuptake</code>, <code>chl_sync</code>, <code>divide</code>, <code>phyt_update</code></li><li><code>nutrient_processes.jl</code> = <code>compute_nut_biochem</code>, <code>compute_source_term</code>, <code>nut_update</code></li><li><code>dst3fl.jl</code> 3rd order DST Scheme with flux limiting</li><li><code>2nd_adv_diffu.jl</code> right hand side term functions (?)</li><li><code>agent_div.jl</code> = is mostly <code>agent_move</code>, <code>agent_move_1D</code> + <code>double_grid</code>, <code>trilinear_itpl</code>, <code>simple_itpl</code></li></ul><h2 id="Model-Variables"><a class="docs-heading-anchor" href="#Model-Variables">Model Variables</a><a id="Model-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Variables" title="Permalink"></a></h2><p><em><strong>The lists and text below likely is out of date</strong></em></p><h4 id=")-state-variables"><a class="docs-heading-anchor" href="#)-state-variables">1) state variables</a><a id=")-state-variables-1"></a><a class="docs-heading-anchor-permalink" href="#)-state-variables" title="Permalink"></a></h4><pre><code class="language-none">phyts_a
nutrients</code></pre><h4 id=")-input-variables"><a class="docs-heading-anchor" href="#)-input-variables">2) input variables</a><a id=")-input-variables-1"></a><a class="docs-heading-anchor-permalink" href="#)-input-variables" title="Permalink"></a></h4><ul><li><code>g</code> from <code>grid_offline()</code> (grid variables)</li><li><code>temp, IR</code> from <code>read_input()</code> (before loop)</li><li><code>remin</code> from <code>rem()</code> (before loop)</li><li><code>velᵇ</code> from <code>read_offline_vels()</code> (in loop)</li></ul><p><em>Notes:</em></p><ul><li><code>IR</code> and <code>temp</code> get cycle through / interpolated inside <code>phyt_update</code> (via <code>IR[trunc(Int,t*ΔT/3600)]</code>). Not sure about <code>daynight(t,IR)</code> in <code>phyt_update</code>. </li><li><code>read_offline_vels</code> receives <code>trunc(Int,t*ΔT/3600)</code> as argument.</li><li><code>remin</code> is time-invariant; like <code>g</code>.</li></ul><h4 id=")-intermediate-variables"><a class="docs-heading-anchor" href="#)-intermediate-variables">3) intermediate variables</a><a id=")-intermediate-variables-1"></a><a class="docs-heading-anchor-permalink" href="#)-intermediate-variables" title="Permalink"></a></h4><ul><li><code>F</code> = <code>compute_nut_biochem(nutrients, remin)</code></li><li><code>gtr</code> = <code>compute_source_term(nutrients, velᵇ, g, F)</code></li><li><code>nutₜ</code> = <code>nut_update(nutrients, consume, g, gtr, ΔT)</code></li></ul><h4 id=")-diagnostic-variables"><a class="docs-heading-anchor" href="#)-diagnostic-variables">4) diagnostic variables</a><a id=")-diagnostic-variables-1"></a><a class="docs-heading-anchor-permalink" href="#)-diagnostic-variables" title="Permalink"></a></h4><ul><li><code>dvid_ct</code>, <code>graz_ct</code>, <code>death_ct</code> from <code>phyt_update</code></li><li><code>gtr</code>, <code>nutₜ</code>, <code>velᵇ</code>, <code>agent_num</code> from </li></ul><h2 id="Output-Files"><a class="docs-heading-anchor" href="#Output-Files">Output Files</a><a id="Output-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Files" title="Permalink"></a></h2><p><em><strong>The lists and text below likely is out of date</strong></em></p><h4 id=")-listing"><a class="docs-heading-anchor" href="#)-listing">1) listing</a><a id=")-listing-1"></a><a class="docs-heading-anchor-permalink" href="#)-listing" title="Permalink"></a></h4><pre><code class="language-none">B1.bin		all agents at all time steps for species 1
B2.bin		... species 2
cons_C.txt	total carbon for each time step
cons_DIN.txt	... DIN ...
cons_N.txt	... N ...
grid.bin	grid (input)
IR.bin		irradiance (input)
nutrients/nut.0001.nc (all nitrients for 1 time step)	
nutrients/nut.0002.nc (same...)
output1.bin	average for all agents for each time step for species 1
output2.bin	... 2
output.bin	... for the two species
VD1.bin		vertical profile of the agents opouplation for species 1
VD2.bin		... species 2</code></pre><h4 id=")-netcdf-output"><a class="docs-heading-anchor" href="#)-netcdf-output">2) netcdf output</a><a id=")-netcdf-output-1"></a><a class="docs-heading-anchor-permalink" href="#)-netcdf-output" title="Permalink"></a></h4><pre><code class="language-none">netcdf nut.0001 {
dimensions:
        yC = 1 ;
        xC = 1 ;
        zC = 40 ;
variables:
        double DIC(zC, yC, xC) ;
                DIC:units = &quot;mmolC/m^3&quot; ;
        float yC(yC) ;
                yC:units = &quot;m&quot; ;
                yC:longname = &quot;Locations of the cell centers in the y-direction.&quot; ;
        float xC(xC) ;
                xC:units = &quot;m&quot; ;
                xC:longname = &quot;Locations of the cell centers in the x-direction.&quot; ;
        float zC(zC) ;
                zC:units = &quot;m&quot; ;
                zC:longname = &quot;Locations of the cell centers in the z-direction.&quot; ;
        double DIN(zC, yC, xC) ;
                DIN:units = &quot;mmolN/m^3&quot; ;
        double DOC(zC, yC, xC) ;
                DOC:units = &quot;mmolC/m^3&quot; ;
        double DON(zC, yC, xC) ;
                DON:units = &quot;mmolN/m^3&quot; ;
        double POC(zC, yC, xC) ;
                POC:units = &quot;mmolC/m^3&quot; ;
        double PON(zC, yC, xC) ;
                PON:units = &quot;mmolN/m^3&quot; ;</code></pre><h2 id="Data-Structures"><a class="docs-heading-anchor" href="#Data-Structures">Data Structures</a><a id="Data-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Structures" title="Permalink"></a></h2><p><em><strong>The lists and text below likely is out of date</strong></em></p><pre><code class="language-none"> output = DataFrame(time=0, 
 gen_ave=mean(B[1].gen), 
 spec_ave = mean(B[1].sp),
 Cq1_ave=mean(B[1].Cq1), 
 Cq2_ave=mean(B[1].Cq2), 
 Nq_ave=mean(B[1].Nq),
 size_ave=mean(B[1].size),
 chl_ave=mean(B[1].chl),
 Population=size(B[1],1),
 dvid=0,
 graz=0,
 death = 0)</code></pre><h2 id="Plotting-Functions"><a class="docs-heading-anchor" href="#Plotting-Functions">Plotting Functions</a><a id="Plotting-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-Functions" title="Permalink"></a></h2><p><em><strong>The lists and text below likely is out of date</strong></em></p><pre><code class="language-none">julia&gt; using DataFrames, Serialization
julia&gt; output=open(deserialize,&quot;results/output.bin&quot;);
julia&gt; plot(output.Population)</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 7 April 2021 04:29">Wednesday 7 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
